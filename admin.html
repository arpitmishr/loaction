<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Nexus Admin | Glass Dashboard</title>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Tailwind Config for Glassmorphism -->
    <script>
        tailwind.config = {
            theme: {
                fontFamily: {
                    sans: ['Poppins', 'sans-serif'],
                },
                extend: {
                    colors: {
                        glass: {
                            100: 'rgba(255, 255, 255, 0.1)',
                            200: 'rgba(255, 255, 255, 0.2)',
                            300: 'rgba(255, 255, 255, 0.3)',
                            dark: 'rgba(15, 23, 42, 0.6)',
                        },
                        accent: {
                            purple: '#a855f7',
                            blue: '#3b82f6',
                            pink: '#ec4899'
                        }
                    },
                    backgroundImage: {
                        'mesh': "radial-gradient(at 0% 0%, hsla(253,16%,7%,1) 0, transparent 50%), radial-gradient(at 50% 0%, hsla(225,39%,30%,1) 0, transparent 50%), radial-gradient(at 100% 0%, hsla(339,49%,30%,1) 0, transparent 50%)",
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #0f172a;
            background-image: 
                radial-gradient(at 0% 0%, hsla(253,16%,7%,1) 0, transparent 50%), 
                radial-gradient(at 50% 10%, hsla(225,39%,25%,1) 0, transparent 50%), 
                radial-gradient(at 100% 0%, hsla(339,49%,30%,1) 0, transparent 50%),
                radial-gradient(at 0% 100%, hsla(339,49%,30%,1) 0, transparent 50%),
                radial-gradient(at 100% 100%, hsla(225,39%,25%,1) 0, transparent 50%);
            background-attachment: fixed;
            color: #e2e8f0;
        }

        /* The Glass Effect Class */
        .glass-panel {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
        }

        .glass-input {
            background: rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: white;
        }
        .glass-input:focus {
            outline: none;
            border-color: rgba(168, 85, 247, 0.5);
            background: rgba(0, 0, 0, 0.4);
        }

        .glass-btn {
            background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 100%);
            border: 1px solid rgba(255, 255, 255, 0.18);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
        }
        
        .glass-btn:hover {
            background: rgba(255, 255, 255, 0.15);
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.2); border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: rgba(255, 255, 255, 0.4); }

        /* Smooth Fade In */
        .fade-in { animation: fadeIn 0.4s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .nav-active {
            background: rgba(168, 85, 247, 0.2); /* Purple tint */
            border-left: 3px solid #a855f7;
            color: white;
        }
    </style>
</head>
<body class="h-screen flex overflow-hidden selection:bg-accent-purple selection:text-white">

    <!-- SIDEBAR (Desktop) -->
    <aside class="hidden md:flex flex-col w-64 glass-panel m-4 rounded-3xl z-20 transition-all duration-300">
        <div class="p-6 flex items-center gap-3">
            <div class="w-10 h-10 rounded-xl bg-gradient-to-tr from-accent-blue to-accent-purple flex items-center justify-center shadow-lg shadow-purple-500/20">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" /></svg>
            </div>
            <div>
                <h1 class="text-xl font-bold tracking-wide">NEXUS</h1>
                <p class="text-[10px] text-slate-400 uppercase tracking-widest">Admin Console</p>
            </div>
        </div>

        <nav class="flex-1 px-4 space-y-2 overflow-y-auto">
            <button onclick="router('dashboard')" id="nav-dashboard" class="nav-item w-full flex items-center gap-4 px-4 py-3 rounded-xl text-sm font-medium text-slate-300 hover:bg-white/5 hover:text-white transition-all">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"></path></svg>
                Dashboard
            </button>
            <button onclick="router('outlets')" id="nav-outlets" class="nav-item w-full flex items-center gap-4 px-4 py-3 rounded-xl text-sm font-medium text-slate-300 hover:bg-white/5 hover:text-white transition-all">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path></svg>
                Outlets
            </button>
            <button onclick="router('products')" id="nav-products" class="nav-item w-full flex items-center gap-4 px-4 py-3 rounded-xl text-sm font-medium text-slate-300 hover:bg-white/5 hover:text-white transition-all">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path></svg>
                Inventory
            </button>
            <button onclick="router('staff')" id="nav-staff" class="nav-item w-full flex items-center gap-4 px-4 py-3 rounded-xl text-sm font-medium text-slate-300 hover:bg-white/5 hover:text-white transition-all">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>
                Staff & Salary
            </button>
            <button onclick="router('logs')" id="nav-logs" class="nav-item w-full flex items-center gap-4 px-4 py-3 rounded-xl text-sm font-medium text-slate-300 hover:bg-white/5 hover:text-white transition-all">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"></path></svg>
                Activity Logs
            </button>
        </nav>
        
        <div class="p-6 border-t border-white/10">
            <div class="flex items-center gap-3">
                <img src="https://ui-avatars.com/api/?name=Admin+User&background=random" class="w-9 h-9 rounded-full border border-white/20">
                <div class="flex-1 overflow-hidden">
                    <p class="text-sm font-bold truncate">Administrator</p>
                    <p class="text-xs text-slate-400">admin@nexus.com</p>
                </div>
                <button class="text-red-400 hover:text-red-300"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path></svg></button>
            </div>
        </div>
    </aside>

    <!-- MOBILE BOTTOM NAV -->
    <nav class="md:hidden fixed bottom-4 left-4 right-4 glass-panel rounded-2xl flex justify-around p-3 z-50 shadow-2xl">
        <button onclick="router('dashboard')" class="p-2 rounded-lg text-slate-400 hover:text-white hover:bg-white/10"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"></path></svg></button>
        <button onclick="router('outlets')" class="p-2 rounded-lg text-slate-400 hover:text-white hover:bg-white/10"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path></svg></button>
        <button class="bg-gradient-to-tr from-accent-blue to-accent-purple p-3 rounded-full -mt-8 shadow-lg shadow-purple-500/40 text-white"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg></button>
        <button onclick="router('products')" class="p-2 rounded-lg text-slate-400 hover:text-white hover:bg-white/10"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path></svg></button>
        <button onclick="router('staff')" class="p-2 rounded-lg text-slate-400 hover:text-white hover:bg-white/10"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"></path></svg></button>
    </nav>

    <!-- MAIN CONTENT -->
    <main class="flex-1 relative overflow-y-auto h-full p-4 md:p-8 scroll-smooth" id="main-container">
        
        <!-- HEADER (Mobile Only) -->
        <header class="md:hidden flex justify-between items-center mb-8">
            <div>
                <h1 class="text-xl font-bold">NEXUS</h1>
                <p class="text-xs text-slate-400">Dashboard</p>
            </div>
            <img src="https://ui-avatars.com/api/?name=Admin+User&background=random" class="w-8 h-8 rounded-full border border-white/20">
        </header>

        <!-- VIEW: DASHBOARD -->
        <div id="view-dashboard" class="fade-in space-y-6">
            <h2 class="text-2xl font-bold text-white mb-6">Overview</h2>
            
            <!-- Stats Grid -->
            <div class="grid grid-cols-2 lg:grid-cols-4 gap-4">
                <!-- Card 1 -->
                <div class="glass-panel p-5 rounded-2xl relative overflow-hidden group">
                    <div class="absolute -right-4 -top-4 bg-accent-blue/20 w-24 h-24 rounded-full blur-2xl group-hover:bg-accent-blue/30 transition-all"></div>
                    <p class="text-slate-400 text-xs font-medium uppercase tracking-wider">Total Sales</p>
                    <h3 class="text-2xl font-bold mt-1">₹<span id="stat-sales">1,24,500</span></h3>
                    <p class="text-xs text-emerald-400 mt-2 flex items-center gap-1">
                        <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path></svg>
                        +12.5% today
                    </p>
                </div>
                <!-- Card 2 -->
                <div class="glass-panel p-5 rounded-2xl relative overflow-hidden group">
                    <div class="absolute -right-4 -top-4 bg-accent-purple/20 w-24 h-24 rounded-full blur-2xl group-hover:bg-accent-purple/30 transition-all"></div>
                    <p class="text-slate-400 text-xs font-medium uppercase tracking-wider">Active Orders</p>
                    <h3 class="text-2xl font-bold mt-1" id="stat-orders">45</h3>
                    <p class="text-xs text-slate-400 mt-2">12 pending delivery</p>
                </div>
                <!-- Card 3 -->
                <div class="glass-panel p-5 rounded-2xl relative overflow-hidden group">
                    <div class="absolute -right-4 -top-4 bg-accent-pink/20 w-24 h-24 rounded-full blur-2xl group-hover:bg-accent-pink/30 transition-all"></div>
                    <p class="text-slate-400 text-xs font-medium uppercase tracking-wider">Outlets Visited</p>
                    <h3 class="text-2xl font-bold mt-1">82<span class="text-sm text-slate-500 font-normal">/120</span></h3>
                    <div class="w-full bg-slate-700/50 h-1 mt-3 rounded-full overflow-hidden">
                        <div class="bg-accent-pink h-full w-[68%]"></div>
                    </div>
                </div>
                <!-- Card 4 -->
                <div class="glass-panel p-5 rounded-2xl relative overflow-hidden group">
                    <div class="absolute -right-4 -top-4 bg-emerald-500/20 w-24 h-24 rounded-full blur-2xl group-hover:bg-emerald-500/30 transition-all"></div>
                    <p class="text-slate-400 text-xs font-medium uppercase tracking-wider">Staff Active</p>
                    <h3 class="text-2xl font-bold mt-1">12<span class="text-sm text-slate-500 font-normal">/15</span></h3>
                    <p class="text-xs text-slate-400 mt-2">3 on leave</p>
                </div>
            </div>

            <!-- Charts Section -->
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <!-- Sales Chart -->
                <div class="glass-panel p-6 rounded-2xl lg:col-span-2">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="font-bold">Revenue Analytics</h3>
                        <select class="glass-input text-xs p-1 rounded">
                            <option>This Week</option>
                            <option>This Month</option>
                        </select>
                    </div>
                    <div class="relative h-64 w-full">
                        <canvas id="salesChart"></canvas>
                    </div>
                </div>
                
                <!-- Category Chart -->
                <div class="glass-panel p-6 rounded-2xl">
                    <h3 class="font-bold mb-4">Top Categories</h3>
                    <div class="relative h-48 w-full flex justify-center">
                        <canvas id="categoryChart"></canvas>
                    </div>
                    <div class="mt-4 space-y-2 text-sm">
                        <div class="flex justify-between text-slate-300"><span>Beverages</span> <span class="font-bold">45%</span></div>
                        <div class="flex justify-between text-slate-300"><span>Snacks</span> <span class="font-bold">30%</span></div>
                        <div class="flex justify-between text-slate-300"><span>Dairy</span> <span class="font-bold">25%</span></div>
                    </div>
                </div>
            </div>
            
            <!-- Quick Actions -->
            <div class="glass-panel p-6 rounded-2xl">
                <h3 class="font-bold mb-4">Pending Approvals</h3>
                <div class="overflow-x-auto">
                    <table class="w-full text-left text-sm text-slate-300">
                        <thead>
                            <tr class="border-b border-white/10 text-xs uppercase text-slate-500">
                                <th class="pb-3">Type</th>
                                <th class="pb-3">Requester</th>
                                <th class="pb-3">Details</th>
                                <th class="pb-3 text-right">Action</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-white/5">
                            <tr class="group hover:bg-white/5 transition-colors">
                                <td class="py-3"><span class="bg-yellow-500/20 text-yellow-400 px-2 py-1 rounded text-xs">Expense</span></td>
                                <td class="py-3 font-medium text-white">Rohan Das</td>
                                <td class="py-3">Fuel Reimbursement (₹500)</td>
                                <td class="py-3 text-right">
                                    <button class="text-emerald-400 hover:text-emerald-300 mr-2">Approve</button>
                                    <button class="text-red-400 hover:text-red-300">Deny</button>
                                </td>
                            </tr>
                            <tr class="group hover:bg-white/5 transition-colors">
                                <td class="py-3"><span class="bg-blue-500/20 text-blue-400 px-2 py-1 rounded text-xs">Leave</span></td>
                                <td class="py-3 font-medium text-white">Amit Kumar</td>
                                <td class="py-3">Sick Leave (2 Days)</td>
                                <td class="py-3 text-right">
                                    <button class="text-emerald-400 hover:text-emerald-300 mr-2">Approve</button>
                                    <button class="text-red-400 hover:text-red-300">Deny</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- VIEW: OUTLETS -->
        <div id="view-outlets" class="hidden fade-in space-y-6">
            <div class="flex justify-between items-center">
                <h2 class="text-2xl font-bold text-white">Outlet Management</h2>
                <button onclick="toggleModal('outletModal')" class="glass-btn px-4 py-2 rounded-xl text-sm font-semibold text-white flex items-center gap-2">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg>
                    New Outlet
                </button>
            </div>

            <!-- Search Bar -->
            <div class="relative">
                <input type="text" placeholder="Search outlets..." class="w-full glass-input p-4 pl-12 rounded-xl text-sm">
                <svg class="absolute left-4 top-4 w-5 h-5 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
            </div>

            <!-- Outlets Grid -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5" id="outlets-grid">
                <!-- Javascript will populate this -->
            </div>
        </div>

        <!-- VIEW: PRODUCTS -->
        <div id="view-products" class="hidden fade-in space-y-6">
            <h2 class="text-2xl font-bold text-white">Product Inventory</h2>
            
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <!-- Add Product Form -->
                <div class="glass-panel p-6 rounded-2xl h-fit">
                    <h3 class="font-bold mb-4 text-accent-blue">Add New Item</h3>
                    <form id="addProductForm" class="space-y-4">
                        <input id="prodName" type="text" placeholder="Product Name" class="w-full glass-input p-3 rounded-lg text-sm" required>
                        <select id="prodCat" class="w-full glass-input p-3 rounded-lg text-sm bg-slate-800">
                            <option value="Beverages">Beverages</option>
                            <option value="Snacks">Snacks</option>
                            <option value="Dairy">Dairy</option>
                        </select>
                        <div class="flex gap-2">
                            <input id="prodPrice" type="number" placeholder="Price (₹)" class="w-full glass-input p-3 rounded-lg text-sm" required>
                            <input id="prodStock" type="number" placeholder="Stock" class="w-full glass-input p-3 rounded-lg text-sm" required>
                        </div>
                        <button type="submit" class="w-full bg-accent-blue hover:bg-blue-600 text-white p-3 rounded-lg text-sm font-bold shadow-lg shadow-blue-500/30 transition-all">Add to Inventory</button>
                    </form>
                </div>

                <!-- Product List -->
                <div class="glass-panel p-0 rounded-2xl lg:col-span-2 overflow-hidden">
                    <table class="w-full text-left text-sm text-slate-300">
                        <thead class="bg-white/5 text-xs uppercase text-slate-400 font-semibold">
                            <tr>
                                <th class="p-4">Item</th>
                                <th class="p-4">Category</th>
                                <th class="p-4">Stock</th>
                                <th class="p-4 text-right">Price</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-white/5" id="product-table-body">
                            <!-- JS Generated -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- VIEW: STAFF & SALARY -->
        <div id="view-staff" class="hidden fade-in space-y-6">
            <h2 class="text-2xl font-bold text-white">Team & Payroll</h2>
            
            <div class="glass-panel p-6 rounded-2xl overflow-x-auto">
                <table class="w-full text-left text-sm text-slate-300">
                    <thead class="bg-white/5 text-xs uppercase text-slate-400">
                        <tr>
                            <th class="p-4">Employee</th>
                            <th class="p-4">Role</th>
                            <th class="p-4">Attendance (Month)</th>
                            <th class="p-4 text-right">Calculated Salary</th>
                            <th class="p-4 text-right">Action</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-white/5" id="staff-table-body">
                        <!-- JS Generated -->
                    </tbody>
                </table>
            </div>
        </div>
        
        <!-- VIEW: LOGS -->
        <div id="view-logs" class="hidden fade-in space-y-6">
            <h2 class="text-2xl font-bold text-white">System Logs</h2>
            <div class="glass-panel p-6 rounded-2xl">
                <ul class="space-y-4" id="logs-list">
                    <li class="flex items-start gap-3 pb-4 border-b border-white/5">
                        <div class="mt-1 w-2 h-2 rounded-full bg-accent-blue"></div>
                        <div>
                            <p class="text-sm font-medium text-white">New order created #ORD-2023</p>
                            <p class="text-xs text-slate-500">Just now • By Rohan Das</p>
                        </div>
                    </li>
                    <li class="flex items-start gap-3 pb-4 border-b border-white/5">
                        <div class="mt-1 w-2 h-2 rounded-full bg-emerald-500"></div>
                        <div>
                            <p class="text-sm font-medium text-white">Payment received from Sharma General Store</p>
                            <p class="text-xs text-slate-500">20 mins ago • ₹2,500 Cash</p>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
        
        <!-- SPACER FOR MOBILE NAV -->
        <div class="h-24 md:h-0"></div>
    </main>

    <!-- MODAL: ADD OUTLET -->
    <div id="outletModal" class="hidden fixed inset-0 z-[100] flex items-center justify-center p-4">
        <div class="absolute inset-0 bg-black/60 backdrop-blur-sm" onclick="toggleModal('outletModal')"></div>
        <div class="glass-panel bg-[#1e293b] p-8 rounded-2xl w-full max-w-md relative z-10 transform transition-all shadow-2xl border-slate-700">
            <h3 class="text-xl font-bold mb-4 text-white">Register New Outlet</h3>
            <form id="newOutletForm" class="space-y-4">
                <input type="text" id="newShopName" placeholder="Shop Name" class="w-full glass-input p-3 rounded-lg text-sm">
                <input type="text" id="newOwnerName" placeholder="Owner Name" class="w-full glass-input p-3 rounded-lg text-sm">
                <input type="text" id="newLocation" placeholder="Area / Location" class="w-full glass-input p-3 rounded-lg text-sm">
                <div class="flex gap-2 mt-4">
                    <button type="button" onclick="toggleModal('outletModal')" class="flex-1 py-3 text-slate-400 hover:text-white transition">Cancel</button>
                    <button type="submit" class="flex-1 bg-accent-purple hover:bg-purple-600 text-white py-3 rounded-xl font-bold shadow-lg shadow-purple-500/30">Save</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // --- 1. MOCK DATA ---
        let outlets = [
            { id: 1, name: "Sharma General Store", owner: "Ramesh Sharma", location: "Market Road, Sector 4", type: "Shop", lastVisit: "Today" },
            { id: 2, name: "City Cafe", owner: "Priya Singh", location: "High Street", type: "Cafe", lastVisit: "Yesterday" },
            { id: 3, name: "Highway Dhaba", owner: "Vikram Gill", location: "NH-48", type: "Dhaba", lastVisit: "2 days ago" },
            { id: 4, name: "Metro Mart", owner: "Sunil Gupta", location: "Station Road", type: "Shop", lastVisit: "Today" },
        ];

        let products = [
            { id: 1, name: "Cola 500ml", category: "Beverages", price: 40, stock: 150 },
            { id: 2, name: "Chips Salted", category: "Snacks", price: 20, stock: 500 },
            { id: 3, name: "Orange Juice", category: "Beverages", price: 90, stock: 80 },
            { id: 4, name: "Milk Pack", category: "Dairy", price: 65, stock: 200 },
        ];

        let staff = [
            { id: 1, name: "Rohan Das", role: "Salesman", baseSalary: 15000, presentDays: 22, totalDays: 25 },
            { id: 2, name: "Amit Kumar", role: "Driver", baseSalary: 12000, presentDays: 20, totalDays: 25 },
            { id: 3, name: "Sarah Khan", role: "Salesman", baseSalary: 16000, presentDays: 24, totalDays: 25 },
        ];

        // --- 2. CORE FUNCTIONS ---

        // Router
        function router(viewId) {
            // Hide all views
            document.querySelectorAll('[id^="view-"]').forEach(el => el.classList.add('hidden'));
            document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('nav-active', 'bg-white/10', 'text-white'));
            
            // Show selected view
            const target = document.getElementById(`view-${viewId}`);
            if (target) {
                target.classList.remove('hidden');
                // Re-trigger animation
                target.classList.remove('fade-in');
                void target.offsetWidth; 
                target.classList.add('fade-in');
            }

            // Highlight nav
            const navBtn = document.getElementById(`nav-${viewId}`);
            if (navBtn) navBtn.classList.add('nav-active');

            // Specific renders
            if(viewId === 'outlets') renderOutlets();
            if(viewId === 'products') renderProducts();
            if(viewId === 'staff') renderStaff();
        }

        function toggleModal(id) {
            const modal = document.getElementById(id);
            if(modal.classList.contains('hidden')) {
                modal.classList.remove('hidden');
            } else {
                modal.classList.add('hidden');
            }
        }

        // --- 3. RENDERING LOGIC ---

        function renderOutlets() {
            const grid = document.getElementById('outlets-grid');
            grid.innerHTML = outlets.map(o => `
                <div class="glass-panel p-5 rounded-2xl hover:bg-white/5 transition-colors group cursor-pointer">
                    <div class="flex justify-between items-start mb-3">
                        <div class="p-2 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg text-white shadow-lg">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path></svg>
                        </div>
                        <span class="text-[10px] bg-white/10 px-2 py-1 rounded text-slate-300">${o.type}</span>
                    </div>
                    <h3 class="font-bold text-lg text-white">${o.name}</h3>
                    <p class="text-sm text-slate-400 mb-4">${o.location}</p>
                    <div class="flex justify-between items-center text-xs text-slate-500 border-t border-white/5 pt-3">
                        <span>Owner: ${o.owner}</span>
                        <span class="text-emerald-400">Visited: ${o.lastVisit}</span>
                    </div>
                </div>
            `).join('');
        }

        function renderProducts() {
            const tbody = document.getElementById('product-table-body');
            tbody.innerHTML = products.map(p => `
                <tr class="hover:bg-white/5 transition-colors">
                    <td class="p-4 font-medium text-white">${p.name}</td>
                    <td class="p-4 text-slate-400"><span class="bg-blue-500/20 text-blue-300 px-2 py-1 rounded-md text-xs">${p.category}</span></td>
                    <td class="p-4">
                        <div class="flex items-center gap-2">
                            <div class="w-full bg-slate-700 h-1.5 rounded-full w-16">
                                <div class="bg-emerald-500 h-1.5 rounded-full" style="width: ${(p.stock/1000)*100}%"></div>
                            </div>
                            <span class="text-xs text-slate-400">${p.stock}</span>
                        </div>
                    </td>
                    <td class="p-4 text-right font-bold">₹${p.price}</td>
                </tr>
            `).join('');
        }

        function renderStaff() {
            const tbody = document.getElementById('staff-table-body');
            tbody.innerHTML = staff.map(s => {
                const salary = Math.round((s.baseSalary / s.totalDays) * s.presentDays);
                const percentage = Math.round((s.presentDays / s.totalDays) * 100);
                let color = percentage > 85 ? 'text-emerald-400' : (percentage > 70 ? 'text-yellow-400' : 'text-red-400');
                
                return `
                <tr class="hover:bg-white/5 transition-colors">
                    <td class="p-4">
                        <div class="flex items-center gap-3">
                            <div class="w-8 h-8 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 flex items-center justify-center text-xs font-bold text-white">
                                ${s.name.charAt(0)}
                            </div>
                            <div>
                                <div class="font-medium text-white">${s.name}</div>
                                <div class="text-xs text-slate-500">ID: #EMP-00${s.id}</div>
                            </div>
                        </div>
                    </td>
                    <td class="p-4 text-slate-400">${s.role}</td>
                    <td class="p-4">
                        <span class="${color} font-bold">${percentage}%</span> <span class="text-xs text-slate-500">(${s.presentDays}/${s.totalDays} days)</span>
                    </td>
                    <td class="p-4 text-right font-bold text-white tracking-wide">₹${salary.toLocaleString()}</td>
                    <td class="p-4 text-right">
                        <button class="text-xs bg-white/10 hover:bg-white/20 text-white px-3 py-1 rounded-lg transition">Payslip</button>
                    </td>
                </tr>
            `}).join('');
        }

        // --- 4. FORM HANDLING ---

        document.getElementById('newOutletForm').addEventListener('submit', (e) => {
            e.preventDefault();
            const name = document.getElementById('newShopName').value;
            const owner = document.getElementById('newOwnerName').value;
            const loc = document.getElementById('newLocation').value;

            outlets.unshift({ 
                id: Date.now(), 
                name: name, 
                owner: owner, 
                location: loc, 
                type: "Shop", 
                lastVisit: "Just now" 
            });

            toggleModal('outletModal');
            renderOutlets();
            e.target.reset();
        });

        document.getElementById('addProductForm').addEventListener('submit', (e) => {
            e.preventDefault();
            const name = document.getElementById('prodName').value;
            const cat = document.getElementById('prodCat').value;
            const price = document.getElementById('prodPrice').value;
            const stock = document.getElementById('prodStock').value;

            products.push({ id: Date.now(), name, category: cat, price, stock });
            renderProducts();
            e.target.reset();
        });

        // --- 5. CHARTS CONFIGURATION ---

        function initCharts() {
            // Sales Chart
            const ctx1 = document.getElementById('salesChart').getContext('2d');
            
            // Gradient for chart
            let gradient = ctx1.createLinearGradient(0, 0, 0, 400);
            gradient.addColorStop(0, 'rgba(168, 85, 247, 0.5)'); // Purple
            gradient.addColorStop(1, 'rgba(168, 85, 247, 0.0)');

            new Chart(ctx1, {
                type: 'line',
                data: {
                    labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                    datasets: [{
                        label: 'Revenue (₹)',
                        data: [12000, 19000, 3000, 5000, 20000, 35000, 45000],
                        borderColor: '#a855f7',
                        backgroundColor: gradient,
                        borderWidth: 3,
                        pointBackgroundColor: '#fff',
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: {
                        x: { grid: { display: false, color: 'rgba(255,255,255,0.1)' }, ticks: { color: '#94a3b8' } },
                        y: { grid: { color: 'rgba(255,255,255,0.05)' }, ticks: { color: '#94a3b8' } }
                    }
                }
            });

            // Category Chart
            const ctx2 = document.getElementById('categoryChart').getContext('2d');
            new Chart(ctx2, {
                type: 'doughnut',
                data: {
                    labels: ['Beverages', 'Snacks', 'Dairy'],
                    datasets: [{
                        data: [45, 30, 25],
                        backgroundColor: ['#3b82f6', '#ec4899', '#10b981'],
                        borderColor: 'transparent',
                        hoverOffset: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    cutout: '75%'
                }
            });
        }

        // --- INITIALIZATION ---
        window.addEventListener('load', () => {
            router('dashboard'); // Default view
            initCharts();
        });

    </script>
</body>
</html>
